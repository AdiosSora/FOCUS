<!DOCTYPE>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="text/javascript" src="/eel.js"></script>
  <script src="../js/Recognize.js"></script>
  <link rel="stylesheet" type="text/css" href="../css/style.min.css">
  <link rel="stylesheet" type="text/css" href="../css/pure.css">

</head>

<body>
<div class="big">

<div class="tab-wrap">
    <input id="TAB-01" type="radio" name="TAB" class="tab-switch" checked="checked" /><label class="tab-label" for="TAB-01">マウス速度設定</label>
    <div class="tab-content">
      <p>下のスライダーバーの数値を指定し、右下の適用ボタンをクリックして、下のプレビュー画面で設定をテストしてください。</p>
      <div class="range-slider">
        <span id="rs-bullet" class="rs-label">0</span>
        遅い　<input id="rs-range-line" class="rs-range" type="range" value="0" min="0" max="10">　速い
      </div>
      <div>
        <!-- <a class="pure-button pure-button-primary" href="#" onclick="saveConfigValue()">適用</a> -->
        <div class="modal_wrap">
        <input id="trigger" type="checkbox">
          <div class="modal_overlay">
            <label for="trigger" class="modal_trigger"></label>
            <div class="modal_content">
              <label for="trigger" class="close_button">✖️</label>
              <h4 style="text-align:center;">設定を適応しました。</h4>
            </div>
          </div>
        </div>
        <div class="conf_footer_btn">
        <label for="trigger" class="open_button" onclick="saveConfigValue()">適応</label>
        </div>
      </div>
    </div>
    <input id="TAB-02" type="radio" name="TAB" class="tab-switch" /><label class="tab-label" for="TAB-02">ショートカット</label>
    <div class="tab-content">
      <div>
        oneのポーズ
        <select name="keyconfig" id="keyconfig">
          <option value="ctrl,c">Ctl+C</option>
          <option value="ctrl,v">Ctl+V</option>
          <option value="ctrl,z">Ctl+Z</option>
        </select>
        <p></p>
        dangのポーズ
        <select name="keyconfig2" id="keyconfig2">
          <option value="ctrl,c">Ctl+C</option>
          <option value="ctrl,v">Ctl+V</option>
          <option value="ctrl,z">Ctl+Z</option>
        </select>
        <p></p>
        ショートカットキー有効化<input type='checkbox' id='shortcut' class="checkbox" />
        <a class="pure-button pure-button-primary" onclick="keyshortcut()">保存</a>
      </div>
    </div>
  </div>
</div>
</div>

<div class="small_index_object">
<button class="small_index_btn" type="button" name="endbtn" value="end" onclick="endBtn()">×</button>
</div>
<div class="poseGuage">
<h4 id="poseGuage"></h4>
</div>

<div class="small_index_pose">

    <table class="small_table">
      <tr>
        <th class="small_th_text">Palm</th>
        <th class="small_th_text">Dang</th>
        <th class="small_th_text">One</th>
        <th class="small_th_text">Rock</th>
        <th class="small_th_text">Three</th>
        <th class="small_th_text">Three</th>
      </tr>
      <tr>

        <td class="small_td_img"><img src="../images/Hand_Palm.svg" width="50px"></td>
        <td class="small_td_img"><img src="../images/Hand_Palm.svg" width="50px"></td>
        <td class="small_td_img"><img src="../images/Hand_Palm.svg" width="50px"></td>
        <td class="small_td_img"><img src="../images/Hand_Palm.svg" width="50px"></td>
        <td class="small_td_img"><img src="../images/Hand_Palm.svg" width="50px"></td>
        <td class="small_td_img"><img src="../images/Hand_Palm.svg" width="50px"></td>
      </tr>
      <tr>
        <td class="small_td_text"><h6>マウス移動</h6></td>
        <td class="small_td_text"><h6>クリック</h6></td>
        <td class="small_td_text"><h6>右クリック</h6></td>
        <td class="small_td_text"><h6>スクロール</h6></td>
        <td class="small_td_text"><h6>ドラック</h6></td>
        <td class="small_td_text"><h6>ダブルクリック</h6></td>
      </tr>

    </table>

  </div>

</body>



<script>
  //スライダー設定
  var rangeSlider = document.getElementById("rs-range-line");
  var rangeBullet = document.getElementById("rs-bullet");

  rangeSlider.addEventListener("input", showSliderValue, false);

  function showSliderValue() {
    rangeBullet.innerHTML = rangeSlider.value;
    var bulletPosition = (rangeSlider.value / rangeSlider.max);
    rangeBullet.style.left = (bulletPosition * 578) + "px";
  }

  //ページリンク関数
  function link(target) {
    window.location.href = target;
  }

  setTimeout(setConfvalue(), 50);
  //起動時設定ファイルの値をロード
  eel.expose(setConfvalue);
  function setConfvalue() {
    var mouse_sensitivity = Promise.resolve(eel.set_confvalue("mouse_sensitivity")());
    mouse_sensitivity.then(function(data) {
      rangeSlider.value = data
      rangeBullet.innerHTML = data
      rangeBullet.style.left = ((data / rangeSlider.max) * 578) + "px";
    });
  };
  //設定した値をコンフィグに書き込む関数
  eel.expose(saveConfigValue);
  function saveConfigValue() {
    eel.save_confvalue(rangeSlider.value,"mouse_sensitivity");
  }

  function keyshortcut() {
    if (shortcut.checked) {
      eel.shortcutondang(keyconfig2.value)
      eel.shortcutonone(keyconfig.value)
    }
  };
</script>

</html>
