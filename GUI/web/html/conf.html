<!DOCTYPE>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="text/javascript" src="/eel.js"></script>
  <script src="../js/Recognize.js"></script>
  <link rel="stylesheet" type="text/css" href="../css/style.min.css">
  <link rel="stylesheet" type="text/css" href="../css/pure.css">

</head>

<body>
<div class="big">
  <h2>マウス感度設定</h2>
  <p class="detail_text">遅いに近いほど細かい操作がしやすくなり、早いに近いほど少しの動作で画面全体の操作が出来ます。</p>
  <div class="range-slider">
    <span id="rs-bullet" class="rs-label">0</span>
    遅い　<input id="rs-range-line" class="rs-range" type="range" value="0" min="0" max="10">　速い
  </div>
  <h2>ポーズ設定</h2>
  <p class="detail_text">
    ポーズを入れ替えることでマウスの操作に対するポーズを変更することが出来ます。<br>
    手のアイコンをドラッグドロップすることで入れ替えることができます。
  </p>
  <br>
  <!-- <div class="PoseSettinglist">
    <div id="PoseList" class="listWithHandle">
      <div class="drag_palm"><img src="../images/Hand_Palm.svg" width="46px"></div>
      <div class="drag_rock"><img src="../images/Hand_Rock.svg" width="46px"></div>
      <div class="drag_gun"><img src="../images/Hand_Gun.svg" width="46px"></div>
      <div class="drag_three"><img src="../images/Hand_Three.svg" width="46px"></div>
      <div class="drag_peace"><img src="../images/Hand_Peace.svg" width="46px"></div>
      <div class="drag_dang"><img src="../images/Hand_Dang.svg" width="46px"></div>
      <div class="drag_one"><img src="../images/Hand_One.svg" width="46px"></div>
    </div>
    <div class="listlabel">
      <div>移動</div>
      <div>左クリック</div>
      <div>右クリック</div>
      <div>ダブルクリック</div>
      <div>ドラッグ<br>ドロップ</div>
      <div>1<br/>ショートカット</div>
      <div>2<br/>ショートカット</div>
    </div>
  </div> -->
  <div>
    Top
    <select name="keyconfig" id="keyconfig">
      <option value="ctrl,c">Ctl+C(コピー)</option>
      <option value="ctrl,s">Ctl+S(保存)</option>
      <option value="ctrl,v">Ctl+V(ペースト)</option>
      <option value="ctrl,x">Ctl+X(切り取り)</option>
      <option value="ctrl,y">Ctl+Y(戻るをやり直す)</option>
      <option value="ctrl,z">Ctl+Z(戻る)</option>
      <option value="alt,f4">Alt+F4(ウィンドウ削除)</option>
      <option value="win,tab">Win+Tab(タスクビュー)</option>
      <option value="ctrl,shift,esc">Ctrl+Shift+Esc(タスクマネージャー)</option>
      <option value="win,up">Win+↑(ウィンドウ最大化)</option>
      <option value="win,down">Win+↓(ウィンドウ最小化)</option>
    </select>
    <p></p>
    Right
    <select name="keyconfig2" id="keyconfig2">
      <option value="ctrl,c">Ctl+C(コピー)</option>
      <option value="ctrl,s">Ctl+S(保存)</option>
      <option value="ctrl,v">Ctl+V(ペースト)</option>
      <option value="ctrl,x">Ctl+X(切り取り)</option>
      <option value="ctrl,y">Ctl+Y(戻るをやり直す)</option>
      <option value="ctrl,z">Ctl+Z(戻る)</option>
      <option value="alt,f4">Alt+F4(ウィンドウ削除)</option>
      <option value="win,tab">Win+Tab(タスクビュー)</option>
      <option value="ctrl,shift,esc">Ctrl+Shift+Esc(タスクマネージャー)</option>
      <option value="win,up">Win+↑(ウィンドウ最大化)</option>
      <option value="win,down">Win+↓(ウィンドウ最小化)</option>

    </select>
    <p></p>
    Bottom
    <select name="keyconfig3" id="keyconfig3">
      <option value="ctrl,c">Ctl+C(コピー)</option>
      <option value="ctrl,s">Ctl+S(保存)</option>
      <option value="ctrl,v">Ctl+V(ペースト)</option>
      <option value="ctrl,x">Ctl+X(切り取り)</option>
      <option value="ctrl,y">Ctl+Y(戻るをやり直す)</option>
      <option value="ctrl,z">Ctl+Z(戻る)</option>
      <option value="alt,f4">Alt+F4(ウィンドウ削除)</option>
      <option value="win,tab">Win+Tab(タスクビュー)</option>
      <option value="ctrl,shift,esc">Ctrl+Shift+Esc(タスクマネージャー)</option>
      <option value="win,up">Win+↑(ウィンドウ最大化)</option>
      <option value="win,down">Win+↓(ウィンドウ最小化)</option>
    </select>
    <p></p>
    Left
    <select name="keyconfig4" id="keyconfig4">
      <option value="ctrl,c">Ctl+C(コピー)</option>
      <option value="ctrl,s">Ctl+S(保存)</option>
      <option value="ctrl,v">Ctl+V(ペースト)</option>
      <option value="ctrl,x">Ctl+X(切り取り)</option>
      <option value="ctrl,y">Ctl+Y(戻るをやり直す)</option>
      <option value="ctrl,z">Ctl+Z(戻る)</option>
      <option value="alt,f4">Alt+F4(ウィンドウ削除)</option>
      <option value="win,tab">Win+Tab(タスクビュー)</option>
      <option value="ctrl,shift,esc">Ctrl+Shift+Esc(タスクマネージャー)</option>
      <option value="win,up">Win+↑(ウィンドウ最大化)</option>
      <option value="win,down">Win+↓(ウィンドウ最小化)</option>
Esc    </select>
    <p></p>
    ショートカットキー有効化<input type='checkbox' id='shortcut' class="checkbox" />
  </div>
  <a class="pure-button pure-button-primary" onclick="saveConfigValue()">保存</a>
</div>
</body>



<script>
  //スライダー設定
  const rangeSlider = document.getElementById("rs-range-line");
  const rangeBullet = document.getElementById("rs-bullet");
  const keyselect = document.getElementById("keyconfig");
  const keyselect2 = document.getElementById("keyconfig2");
  const keyselect3 = document.getElementById("keyconfig3");
  const keyselect4 = document.getElementById("keyconfig4");
  const keybox = document.getElementById("shortcut");

  rangeSlider.addEventListener("input", showSliderValue, false);

  function showSliderValue() {
    rangeBullet.innerHTML = rangeSlider.value;
    var bulletPosition = (rangeSlider.value / rangeSlider.max);
    rangeBullet.style.left = (bulletPosition * 578) + "px";
  }

  //ページリンク関数
  function link(target) {
    window.location.href = target;
  }

  setTimeout(setConfvalue(), 50);
  //起動時設定ファイルの値をロード
  eel.expose(setConfvalue);
  function setConfvalue() {
    var mouse_sensitivity = Promise.resolve(eel.set_confvalue()());
    mouse_sensitivity.then(function(data) {
      rangeSlider.value = data
      rangeBullet.innerHTML = data
      rangeBullet.style.left = ((data / rangeSlider.max) * 578) + "px";
      });
    var keyset1 = Promise.resolve(eel.set_poseshortcut()());
    keyset1.then(function(data){
      keyselect.value = data
    });
    var keyset2 = Promise.resolve(eel.set_poseshortcut2()());
    keyset2.then(function(data){
      keyselect2.value = data
    });
    var keyset3 = Promise.resolve(eel.set_poseshortcut3()());
    keyset3.then(function(data){
      keyselect3.value = data
    });
    var keyset4 = Promise.resolve(eel.set_poseshortcut4()());
    keyset4.then(function(data){
      keyselect4.value = data
    });
    var key_flag = Promise.resolve(eel.set_shortcutflag()());
    key_flag.then(function(data){
      if(data==0){
        shortcut.checked = false;
      }else{
        shortcut.checked = true;
      }
    });

  };
  //設定した値をコンフィグに書き込む関数
  eel.expose(saveConfigValue);
  function saveConfigValue() {
    eel.save_confvalue(rangeSlider.value,keyconfig.value,keyconfig2.value,keyconfig3.value,keyconfig4.value);
    if(shortcut.checked){
      eel.save_shortcutflag("1");
    }else{
      eel.save_shortcutflag("0");
    }
  }

</script>

</html>
