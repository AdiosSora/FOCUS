<!DOCTYPE>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="text/javascript" src="/eel.js"></script>
  <script src="../js/Recognize.js"></script>
  <link rel="stylesheet" type="text/css" href="../css/style.min.css">
  <link rel="stylesheet" type="text/css" href="../css/pure.css">

</head>
<header>
  <div class="pure-g">
    <div class="pure-u-1-5" style="text-align:center;">
      <a onclick="link('Start.html');previewoff()"><img src="../images/FOCUS-Logo.svg" width="220px"></a>
    </div>
    <div class="pure-u-4-5" style="text-align:right;">
      <a class="header_button" href="index.html">TOP</a>
      <a class="header_button" href="conf.html">設定</a>
      <a class="header_button" href="help.html">使い方</a>
      <a class="pure-button pure-button-primary" onclick="test_clickBtn1();previewoff()">起動</a>
    </div>
  </div>
</header>

<body>
<div class="tab-wrap">
    <input id="TAB-01" type="radio" name="TAB" class="tab-switch" checked="checked" /><label class="tab-label" for="TAB-01">マウス速度設定</label>
    <div class="tab-content">
      <p>下のスライダーバーの数値を指定し、右下の適用ボタンをクリックして、下のプレビュー画面で設定をテストしてください。</p>
      <div class="range-slider">
        <span id="rs-bullet" class="rs-label">0</span>
        遅い　<input id="rs-range-line" class="rs-range" type="range" value="0" min="0" max="10">　速い
      </div>
      <div class="conf_body_btn">
        <a class="pure-button pure-button-primary" href="#" onclick="saveConfigValue()">適用</a>
      </div>
    </div>
    <input id="TAB-02" type="radio" name="TAB" class="tab-switch" /><label class="tab-label" for="TAB-02">プレビュー</label>
    <div class="tab-content">
      <div>
        <img id="python_video" src="../images/noimage.png">
      </div>
      <div>
        <h4 style="text-align:center">※PCにWEBカメラを接続してください。</h4>
      </div>
    </div>
    <input id="TAB-03" type="radio" name="TAB" class="tab-switch" /><label class="tab-label" for="TAB-03">ショートカット</label>
    <div class="tab-content">
      <div>
          <input type='checkbox' id='shortcut' class="checkbox" />ショートカットキー有効化
        <a class="pure-button pure-button-primary" onclick="keyshortcut()">保存</a>
      </div>
  </div>
</div>
</body>
<script>
  //スライダー設定
  var rangeSlider = document.getElementById("rs-range-line");
  var rangeBullet = document.getElementById("rs-bullet");

  rangeSlider.addEventListener("input", showSliderValue, false);

  function showSliderValue() {
    rangeBullet.innerHTML = rangeSlider.value;
    var bulletPosition = (rangeSlider.value /rangeSlider.max);
    rangeBullet.style.left = (bulletPosition * 578) + "px";
  }

  //ページリンク関数
  function link(target) {
    window.location.href = target;
  }

  setTimeout(setConfvalue(),50);
  //起動時設定ファイルの値をロード
  eel.expose(setConfvalue);
   function setConfvalue() {
     var mouse_sensitivity = eel.set_confvalue();
    document.getElementById("rs-range-line").value = mouse_sensitivity
    console.log(mouse_sensitivity);
  };
  //設定した値をコンフィグに書き込む関数
  eel.expose(saveConfigValue);
  function saveConfigValue(){
    console.log(valuedocument.getElementById("rs-range-line").value);
    eel.save_confvalue(valuedocument.getElementById("rs-range-line").value);
  }
  function keyshortcut(){
    if(shortcut.checked){
      eel.shortcuton()
    }
  };
</script>
</html>
